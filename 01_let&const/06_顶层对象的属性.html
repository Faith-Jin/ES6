<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>06_顶层对象的属性</title>
</head>
<body>
  <script>
    //ES6 声明变量的六种方法
      /**
       * ES5: var function
       * ES6: let const import class
      **/
    
    //顶层对象属性
      //浏览器环境指的是window；Node指的是global对象；ES5中顶层对象的属性与全局变量是等价的；
      //顶层对象的属性赋值与全局变量赋值是一致的;
      window.a = 1;
      console.info(a); // 1

      a = 2;
      console.info(window.a); // 2

      //var let const 因全局作用域内声明的，故可跨越script块；
    /**顶层对象与全局变量挂钩，被认为是JavaScript语言最大的设计败笔之一；
     * 没法在编译时就报出变量未声明的错误，只有运行时才能知道(因为全局变量可能时顶层对象的属性创造的，而属性的创造时动态的)；
     * 程序员很容易不知不觉就创建了变量; 例如： a 这就属于创建了一个变量
     * 顶层对象的属性时到处可以读写的，非常不利于模块化编程；例如：不同的script块下的全局声明的相同变量名会引起冲突
     * 另一方面，window对象有实体含义，指的时浏览器的窗口对象；顶层对象也是一个有实体含义的对象，是不合适的
    **/
    /**ES6为了改变这一点：一方面规定，并保持兼容性，var命令和function命令声明的全局变量，依旧是顶层对象的属性；
     * 另一方面规定，let const class命令声明的全局变量，不属于顶层对象的属性；
     * 从ES6开始，全局变量逐步与顶层对象的属性脱钩；
    **/
      var a = 1;
      //Node 的 REPL 环境可写成 global.a
      console.info(window.a);//1

      let b = 1;
      console.info(window.b); //undefined;
  </script>
</body>
</html>